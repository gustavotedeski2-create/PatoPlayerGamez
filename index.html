<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PatoPlayer Games ü¶Ü</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --bg-color: #f5c000; /* Amarelo Pato */
            --steam-dark: #1b2838;
            --steam-panel: #171a21;
            --text-color: #ffffff;
            --primary-btn: #6e3aff;
            --green-banner: #5cb85c;
        }

        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background-color: var(--bg-color); 
            margin: 0; 
            padding: 0; 
            color: white; 
            padding-bottom: 50px; 
        }

        /* --- CABE√áALHO (Vis√≠vel Sempre) --- */
        header { 
            text-align: center; 
            padding: 20px; 
            margin-top: 10px;
            position: relative; 
            z-index: 10; /* Garante que fique na frente */
        }
        
        h1 { 
            font-size: 2.5rem; 
            margin: 0; 
            text-shadow: 2px 2px 0px rgba(0,0,0,0.1); 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            gap: 10px; 
        }

        .subtitle { font-size: 1rem; opacity: 0.9; margin-top: 5px; }

        /* --- BANNERS E BOT√ïES PRINCIPAIS --- */
        .green-banner { 
            background-color: var(--green-banner); 
            color: white; 
            text-align: center; 
            padding: 15px; 
            margin: 10px 20px; 
            border-radius: 10px; 
            font-weight: 500; 
            box-shadow: 0 4px 0 #4cae4c; 
        }

        /* Bot√£o Sobre o Site (Normal, no meio da tela) */
        .about-btn-container { text-align: center; margin: 15px 0; }
        .btn-about { 
            background: #fd79a8; 
            border: none; 
            padding: 10px 25px; 
            border-radius: 8px; 
            color: white; 
            font-weight: bold; 
            cursor: pointer; 
            font-size: 1rem;
            box-shadow: 0 4px 0 #e84393; 
            transition: 0.2s; 
        }
        .btn-about:active { transform: translateY(3px); box-shadow: none; }

        .chat-link { text-decoration: none; display: block; }
        .chat-banner { background-color: #00b894; max-width: 600px; margin: 20px auto; padding: 12px; border-radius: 30px; text-align: center; color: white; font-weight: bold; box-shadow: 0 4px 0 #008e72; transition: transform 0.2s; }
        .chat-banner:hover { transform: scale(1.02); background-color: #00cea5; }

        /* --- GRID DE JOGOS --- */
        .section-title { text-align: center; font-size: 1.5rem; margin: 30px 0 20px; display: flex; align-items: center; justify-content: center; gap: 10px; }
        #game-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 20px; padding: 0 20px; max-width: 1200px; margin: 0 auto; }
        
        .game-card { 
            background: #fff; 
            border-radius: 15px; 
            padding: 10px; 
            text-align: center; 
            transition: transform 0.2s; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); 
            color: #333; 
            display: flex; flex-direction: column; 
            position: relative;
            cursor: pointer;
        }
        .game-card:hover { transform: translateY(-5px); }
        .game-card img { width: 100%; height: 140px; object-fit: cover; border-radius: 10px; background-color: #ddd; }
        .game-card h3 { font-size: 1.1rem; margin: 15px 0 10px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; text-transform: capitalize; }
        
        .btn-play-card { background: var(--primary-btn); color: white; text-decoration: none; padding: 8px; border-radius: 8px; display: block; font-weight: bold; margin-top: auto; }

        .badge-game { position: absolute; top: 15px; right: 15px; background: #ffdd40; color: #8a6d3b; padding: 5px 10px; border-radius: 15px; font-size: 0.7rem; font-weight: bold; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }

        /* --- MODAL ESTILO STEAM (BIG PICTURE) --- */
        .steam-modal { 
            display: none; 
            position: fixed; 
            z-index: 9999; /* Fica acima de tudo */
            left: 0; top: 0; 
            width: 100%; height: 100%; 
            background-color: #171a21; /* Fundo s√≥lido caso imagem falhe */
            overflow-y: auto;
        }

        .steam-bg-blur {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-size: cover; background-position: center;
            filter: blur(20px) brightness(0.5); /* Efeito de vidro escuro */
            z-index: -1;
            transition: background-image 0.5s;
        }

        .steam-container {
            max-width: 900px; margin: 40px auto;
            background: rgba(23, 26, 33, 0.95);
            border-radius: 20px;
            box-shadow: 0 0 50px rgba(0,0,0,0.7);
            overflow: hidden;
            display: flex; flex-direction: column;
            color: #c6d4df;
            border: 1px solid rgba(255,255,255,0.1);
            animation: slideUp 0.3s ease-out;
        }
        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        .steam-nav { padding: 15px; border-bottom: 1px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.2); }
        .btn-back { background: transparent; border: 1px solid #fff; color: white; padding: 8px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; transition: 0.2s; }
        .btn-back:hover { background: white; color: black; }

        .steam-body { display: flex; padding: 30px; gap: 30px; }
        .steam-cover-box { flex: 0 0 320px; }
        .steam-cover-box img { width: 100%; border-radius: 10px; box-shadow: 0 10px 20px rgba(0,0,0,0.5); }
        .steam-info-box { flex: 1; }

        .steam-title { font-size: 2.8rem; color: white; margin: 0 0 10px 0; line-height: 1; text-transform: capitalize; }
        
        .steam-play-btn {
            background: linear-gradient(90deg, #6e3aff 0%, #8a5aff 100%);
            color: white; text-decoration: none; padding: 15px 40px; border-radius: 5px;
            font-size: 1.5rem; font-weight: bold; display: inline-block;
            margin: 20px 0; box-shadow: 0 0 20px rgba(110, 58, 255, 0.4);
            transition: 0.2s;
        }
        .steam-play-btn:hover { transform: scale(1.05); box-shadow: 0 0 30px rgba(110, 58, 255, 0.6); }

        .steam-bio-box { background: rgba(0,0,0,0.2); padding: 20px; border-radius: 10px; border-left: 4px solid #66c0f4; }
        .steam-bio-text { font-size: 1rem; line-height: 1.6; color: #acb2b8; white-space: pre-wrap; }

        @media (max-width: 768px) {
            .steam-body { flex-direction: column; }
            .steam-cover-box { flex: none; width: 100%; max-width: 250px; margin: 0 auto; }
            .steam-title { text-align: center; font-size: 2rem; }
            .steam-play-btn { display: block; text-align: center; }
        }

        /* Modal Sobre o Site (Simples) */
        .about-modal { display: none; position: fixed; z-index: 10000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.8); }
        .about-content { background-color: #fff; color: #333; margin: 10% auto; padding: 30px; border-radius: 20px; width: 80%; max-width: 500px; position: relative; }
        .close-about { position: absolute; right: 20px; top: 15px; font-size: 30px; cursor: pointer; }

    </style>
</head>
<body>

    <header>
        <h1><i class="fas fa-gamepad"></i> PatoPlayer Games</h1>
        <div class="subtitle">Seus jogos favoritos em um s√≥ lugar</div>
    </header>

    <div class="green-banner">
        <i class="fas fa-gamepad"></i> Seja Bem-vindo! Temos <span id="game-count">0</span> jogos dispon√≠veis!
    </div>

    <div class="about-btn-container">
        <button class="btn-about" onclick="toggleAbout(true)">
            <i class="fas fa-info-circle"></i> Sobre O Site
        </button>
    </div>

    <a href="https://cadea√ß√£oplay.my.canva.site/whatsapp-online" target="_blank" class="chat-link">
        <div class="chat-banner"><i class="fas fa-comment-dots"></i> Fale com a gente no Chat Online!</div>
    </a>

    <div class="section-title"><i class="fas fa-rocket"></i> Biblioteca de Jogos</div>

    <div id="game-grid">
        <p style="color: black; grid-column: 1/-1; text-align: center;" id="loading">
            <i class="fas fa-spinner fa-spin"></i> Conectando ao GitHub...
        </p>
    </div>

    <div id="steamModal" class="steam-modal">
        <div id="steamBg" class="steam-bg-blur"></div>
        
        <div class="steam-container">
            <div class="steam-nav">
                <button class="btn-back" onclick="closeSteam()"><i class="fas fa-arrow-left"></i> VOLTAR</button>
            </div>
            
            <div class="steam-body">
                <div class="steam-cover-box">
                    <img id="steamCover" src="" alt="Capa">
                </div>
                <div class="steam-info-box">
                    <h1 id="steamTitle">Nome do Jogo</h1>
                    <a id="steamPlayBtn" href="#" class="steam-play-btn"><i class="fas fa-play"></i> JOGAR AGORA</a>
                    
                    <div class="steam-bio-box">
                        <div style="color:#66c0f4; font-weight:bold; margin-bottom:10px;">SOBRE ESTE JOGO:</div>
                        <div id="steamBio" class="steam-bio-text">Carregando...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="aboutSiteModal" class="about-modal" onclick="if(event.target == this) toggleAbout(false)">
        <div class="about-content">
            <span class="close-about" onclick="toggleAbout(false)">&times;</span>
            <h2>üìñ Sobre O Site üéÆ</h2>
            <p>Bem-vindo ao <b>Cad√™ A√ß√£o Play!</b></p>
            <p>üë®‚Äçüíª <b>Sobre o Criador:</b> Feito pelo <b>Patinho (Gustavo)</b>. Obrigado por jogar! ü¶Üüíô</p>
            <p style="text-align:center; margin-top:20px; font-weight:bold;">Divirta-se! üéâ</p>
        </div>
    </div>

<script>
    // --- CONFIGURA√á√ÉO ---
    const USER = 'gustavotedeski2-create';
    const REPO = 'PatoPlayerGamez';
    const FOLDER = 'games'; 
    const API_URL = `https://api.github.com/repos/${USER}/${REPO}/contents/${FOLDER}`;

    // --- FUN√á√ïES DE MODAL ---
    function toggleAbout(show) {
        document.getElementById('aboutSiteModal').style.display = show ? 'block' : 'none';
    }

    function closeSteam() {
        document.getElementById('steamModal').style.display = 'none';
    }

    async function openSteamDetails(title, imgUrl, playUrl, bioUrl) {
        const modal = document.getElementById('steamModal');
        const sBg = document.getElementById('steamBg');
        const sTitle = document.getElementById('steamTitle');
        const sCover = document.getElementById('steamCover');
        const sPlay = document.getElementById('steamPlayBtn');
        const sBio = document.getElementById('steamBio');

        // Configura√ß√£o visual
        sTitle.innerText = title;
        sCover.src = imgUrl;
        sBg.style.backgroundImage = `url('${imgUrl}')`;
        sPlay.href = playUrl;
        sBio.innerHTML = 'Carregando informa√ß√µes...';

        modal.style.display = 'block';

        if (bioUrl) {
            try {
                const response = await fetch(bioUrl);
                if (response.ok) {
                    const text = await response.text();
                    sBio.innerText = text;
                } else {
                    sBio.innerText = "Sem descri√ß√£o dispon√≠vel. Apenas divirta-se!";
                }
            } catch (err) { sBio.innerText = "Erro ao carregar bio."; }
        } else {
            sBio.innerText = "Este jogo n√£o possui descri√ß√£o detalhada.";
        }
    }

    // --- CARREGAMENTO ---
    async function loadGames() {
        try {
            const response = await fetch(API_URL);
            const data = await response.json();
            const grid = document.getElementById('game-grid');
            document.getElementById('loading').style.display = 'none';

            const items = data.filter(item => {
                const isFolder = item.type === 'dir' && (item.name.endsWith('.game') || item.name.endsWith('.games'));
                const isHtml = item.type === 'file' && item.name.endsWith('.html');
                return isFolder || isHtml;
            });

            document.getElementById('game-count').innerText = items.length;

            for (const item of items) {
                let gameTitle, thumbUrl, playUrl, bioUrl;
                const baseUrl = `https://${USER}.github.io/${REPO}/${FOLDER}`;

                if (item.type === 'dir') {
                    gameTitle = item.name.replace(/\.games?$/i, '').replace(/-/g, ' ');
                    thumbUrl = `${baseUrl}/${item.name}/cover.png`;
                    bioUrl = `${baseUrl}/${item.name}/bio.txt`; 
                    
                    try {
                        const fRes = await fetch(item.url);
                        const fData = await fRes.json();
                        const htmlFile = fData.find(f => f.name.endsWith('.html'));
                        playUrl = htmlFile ? `${baseUrl}/${item.name}/${htmlFile.name}` : '#';
                    } catch { playUrl = '#'; }
                } else {
                    gameTitle = item.name.replace('.html', '').replace(/-/g, ' ');
                    thumbUrl = `https://via.placeholder.com/300x200/6e3aff/ffffff?text=${gameTitle}`;
                    playUrl = `${baseUrl}/${item.name}`;
                    bioUrl = null;
                }

                const card = document.createElement('div');
                card.className = 'game-card';
                card.onclick = () => openSteamDetails(gameTitle, thumbUrl, playUrl, bioUrl);

                const badge = item.type === 'dir' ? '<div class="badge-game">GAME</div>' : '';

                card.innerHTML = `
                    ${badge}
                    <img src="${thumbUrl}" onerror="this.src='https://via.placeholder.com/300x200/6e3aff/ffffff?text=${gameTitle}'" alt="${gameTitle}">
                    <h3>${gameTitle}</h3>
                    <span class="btn-play-card" onclick="event.stopPropagation(); window.location='${playUrl}'">JOGAR</span>
                `;
                grid.appendChild(card);
            }
        } catch (error) {
            document.getElementById('loading').innerText = 'Erro ao carregar jogos.';
        }
    }
    loadGames();
</script>

</body>
</html>
